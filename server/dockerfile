FROM oven/bun:latest as install

COPY package*.json .
COPY bun.lockb .
RUN bun install

FROM install as runner

COPY . .
COPY --from=install node_modules node_modules

RUN bun prisma

EXPOSE 8000
ENTRYPOINT [ "bun", "start" ]
